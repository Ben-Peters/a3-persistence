<!doctype html>
<html lang="en">

<head>
    <title>CS4241 Assignment 3</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@100;400&display=swap" rel="stylesheet">
    <script>
        const login = function (event) {
            event.preventDefault()
            //console.log("loggining in")

            const username = document.querySelector('#username').value
            const pass = document.querySelector('#pass').value

            json = { username: username, pass: pass }

            //console.log(json)

            fetch('/login', {
                method: 'POST',
                body: JSON.stringify(json),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
                .then(function (response) {
                    return response.json()
                })
                .then(function (response) {
                    // do something with the reponse
                    console.log(response)
                })

            return false
        }

        window.onload = function () {
            const addBtn = document.querySelector('#login')
            //addBtn.onclick = login
        }
    </script>
</head>

<body>
    <h1 id="intro">Welcome to Life Progression</h1>
    <p>To get started seeing how far through your life you are login below. If you don't have a login enter a username
        and password to create an account</p>
    <form id='input' action='/login' method="POST">
        <label class='buttonLabel' for='username'>Username:</label>
        <input type='text' id='username' name='username'>
        <label class='buttonLabel' for='pass'>Password (8 characters minimum):</label>
        <input type='password' id='pass' name='pass' minlength='8' required>
        <button id='login'>Sign in</button>
    </form>
</body>


</html>